---
import ExpandAndScrollToHelper from "../ExpandAndScrollToHelper.astro";
import MethodLine from "../endpoint/MethodLine.astro";
import { getEndpointRepr } from "../schema-utils/endpoint";

interface Props {
  basepath: string;
  section: string;
  method: string;
  path: string;
  apiName?: string;
}

const { basepath, section, method, path, apiName } = Astro.props;

const id = getEndpointRepr({ method, path });
const href = `${basepath}/${section}#${encodeURIComponent(id)}`;
---

<a
  class="hover:text-orange-5 hover:border-orange-2 border-b-2 transition-colors"
  data-expand-and-scroll-to={JSON.stringify({ section, href, id })}
  href={href}
>
  {apiName && <strong>{apiName} </strong>}
  <MethodLine method={method} path={path} />
</a>
<ExpandAndScrollToHelper />
